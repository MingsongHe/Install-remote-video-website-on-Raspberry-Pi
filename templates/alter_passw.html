<!DOCTYPE html> 
<html> 
<head> 

    <meta charset="UTF-8">
    <title>修改密码</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
    <!--表示描述文档类型 文档类型mime类型，这里为html,如果JS就是text/javascript，and 页面字符集，编码，eg:gb2312,iso-8859-1,utf-8 Fro SEO-->
 
    <link rel="stylesheet" type="text/css" href="../static/alter_passw.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css"> 
 form{ 
 text-align: center; 
 } 
</style> 
</head> 
<body> 
 <?php
 session_start(); 
 ?> 

 <div id="login_frame">
 
    <p id="image_logo"><img src="http://www.ems156.com/wp-content/uploads/2018/03/Logo-220x60.png"></p>
 
    <form action="alter_passw.php" method="post" onsubmit="return alter()"> 
        <p><label class="label_input">用户名</label><input type="text" id="username" name="username" class="text_field" required/></p>
        <p><label class="label_input">旧密码</label><input type="password" id="oldpassword" name="oldpassword" class="text_field" required/></p>
        <p><label class="label_input">新密码</label><input type="password" id="newpassword" name="newpassword" class="text_field" required/></p>
        <p><label class="label_longinput">确认新密码</label><input type="password" id="assertpassword" name="assertpassword" class="text_shortfield" required/></p>
        <input type="submit" value="修改密码" onclick="return alter()"> 
    </form>
</div>

 <script type="text/javascript"> 
 document.getElementById("username").value="<? php echo "${_SESSION["username"]}";?>" 
 </script> 
  
 <script type="text/javascript"> 
 function alter() { 
  
 var username=document.getElementById("username").value; 
 var oldpassword=document.getElementById("oldpassword").value; 
 var newpassword=document.getElementById("newpassword").value; 
 var assertpassword=document.getElementById("assertpassword").value; 
 var regex=/^[/s]+$/; 
 if(regex.test(username)||username.length==0){ 
 alert("用户名格式不对"); 
 return false; 
 } 
 if(regex.test(oldpassword)||oldpassword.length==0){ 
 alert("密码格式不对"); 
 return false; 
 } 
 if(regex.test(newpassword)||newpassword.length==0) { 
 alert("新密码格式不对"); 
 return false; 
 } 
 if (assertpassword != newpassword||assertpassword==0) { 
 alert("两次密码输入不一致"); 
 return false; 
 } 
 return true;  
 } 
 </script> 
</body> 
</html> 